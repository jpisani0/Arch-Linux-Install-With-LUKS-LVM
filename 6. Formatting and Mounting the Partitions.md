## Formatting the Partitions

With the partitions and volumes all finally set up, we can format them for use. Starting with the EFI partition, it MUST be formatted in FAT32, which can be done like so:

```bash
mkfs.fat -F32 /dev/<your-EFI-partition>
```

For the boot partition, this can be formatted with ext4, the standard Linux file system.

```bash
mfs.ext4 /dev/<your-boot-partition>
```

For our root and home volumes, we can format them with ext4 like the boot partition, but I like to use btrfs instead, as it offers some more features such as full system snap shots and rollbacks. Choose whichever you prefer.

```bash
mkfs.btrfs -L root /dev/mapper/<your-root-volume>
mkfs.btrfs -L home /dev/mapper/<your-home-volume>
```

You'll also notice the inclusion of the `-L` flag above, which allows us to add a label to the volumes.

Lastly, we have the the swap file, which can be formatted using:

```bash
mkswap /dev/mapper/<your-swap-file>
```

## Mounting the Partitions

We can now mount the partitions to the Arch ISO. Starting with root (as always), we can do:

```bash
mount /dev/mapper/<your-root-volume> /mnt
```

Now, we can add the home, boot, and EFI partitions to root, using the `--mkdir` flag since these mount points don't exist yet.

```bash
mount --mkdir /dev/mapper/<your-home-volume> /mnt/home
mount --mkdir /dev/<your-boot-partition> /mnt/boot
mount --mkdir /dev/<your-EFI-partition> /mnt/boot/efi
```

Finally, we can turn our swap file on and mark it as available with:

```bash
swapon /dev/mapper/<your-swap-file>
swapon -a
```

Be sure to check that everything looks in order again with `lsblk`.