## Updating the Mirror List

We are now ready to install the operating system, and it only took 6 pages before this! But before we do that, it is a good idea to update the mirror list, as the one in your ISO is likely outdated and using mirrors that may not be the fastest for your location. We will first make a backup of the current mirror list with:

```bash
cp /etc/pacman.d/mirrorlist /etc/pacman.d/mirrorlist.bak
```

We can now update our mirror list using `reflector`, which looks through the available mirrors and ranks them based on speed. I do:

```bash
reflector --country "United States" --age 12 --protocol https --sort rate --save /etc/pacman.d/mirrorlist
```

- --country: The country you live in. Consider adding close neighboring countries if you think there may be mirrors there that could be a viable option for you
- --age: Only look at mirrors that have been updated within the last 12 hours to avoid looking at stale mirrors
- --protocol: Tell reflector to only look through mirrors that support https for secure package downloads
- --sort: Set to rate the mirrors in order of speed

This will take a couple of minutes to look through all available mirrors. You may see some warnings for timeouts, which is totally normal, as it means those mirrors were too slow and will be omitted in the new mirror list.

## Installing the OS and Kernel

We can install Arch Linux using `pacstrap`, a package manager that installs packages on another mounted system rather than the system you are currently on, which we will use to install Arch on the mounted devices we made earlier. We can use:

```bash
pacstrap -K /mnt base linux linux-firmware
```

The `base` package installs the minimal package set for a standard Arch installation and is required for all installations. `linux` and `linux-firmare` are the standard Linux kernel and the associated firmware. If you want a more stable kernel at the expense of bleeding-edge features as soon as they are available, consider using the Long Term Support Kernel instead (`linux-lts` and `linux-lts-firmware`). I usually install this kernel later as a backup in case of the event that I cannot boot into the standard kernel.

## Generate the File System Table
Once the installation is complete, you will want to generate the file system table (fstab) for the system. This is a file which details how the system should mount all of your devices, which will be the way they are mounted currently. To do this, we can do:

```bash
genfstab -U /mnt > /mnt/etc/fstab
```

Confirm that the file is there and you can continue with the installation.