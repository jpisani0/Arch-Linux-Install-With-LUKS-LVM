## Planning the Partitions

Setting up your disk(s) and partitions is a very important part of the installation process with many options for how to go about it. I will be detailing my preferred way for setting them up.

Whether the machine has 1 or multiple physical drives, I set up the first device with 3 partitions. The first two are the EFI and /boot partitions. The reasoning for separating the two is to make it easier to manage multiple OS kernels and that the EFI partition must be formatted in FAT32 while the boot partition does not. 

The rest of the space in the drive is used as 1 partition that will be encrypted with LUKS and used in a Logical Volume Group, both of which will be explained and elaborated on later in the guide.

If I have any other physical drives, I format all the space on those, encrypt them, and add them to the volume group for extra storage.

## Creating the Partitions

There are multiple options for disk partitioning software, such as `fdisk`, `cgdisk`, `gparted`, and `gdisk`, which I will be using. To find the first disk we will be partitioning, we can use the `lsblk` command. Once you find the disk, we can open it with:

```bash
gdisk /dev/<your-device>
```

This will enter us into an interactive shell. We can list all the partitions on the drive with `p`. If you see any partitions, make sure to back up any data from this drive that you need before you continue as partitioning the disk will delete all of it.

We will start with creating the EFI parition. Enter `n` into the shell to start creating a new partition. You will be prompted for the partition label, which you can leave blank. It will then ask for the first sector of the partition, which can also be left blank to start the partition as early in the drive as possible. 

It will then ask for the last sector, which is where we can specify the size of the partition. The EFI partition does not require much space so we can enter `+512M` for this section. Lastly, it will ask for the partition code, which will be `ef00`. You can also look up the partition codes by entering `L` here and then searching by keyword.

We will repeat this for the /boot partition, giving it a size of `+4G` the code `ef02`.

Now, for our encrypted LVM, we can partition the rest of the available space on the drive by repeating the above steps, but also leaving the 'last sector' section blank. For the partition code, I usually give it `8309`, the code for Linux LUKS.

We can check that these partitions look correct with `p` again and then write these changes to the disk with `w`.

If you have any other physical disks, I format it the same way as the last partition from the first disk, using all available space in the drive and giving it the `8309` code as it will also be encrypted.

You can now check your drives again using `lsblk` and should see the 3 partitions in the first drive and only one in all subsequent drives.